<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Review Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        async function predictText() {
    const user_input = document.getElementById("inputText").value;

    // Ensure user input is provided
    if (!user_input) {
        alert("Please enter text to predict sentiment!");
        return;
    }

    try {
        // Send POST request to Flask
        const response = await fetch("/predict", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: `user_input=${encodeURIComponent(user_input)}`
        });

        // Parse the JSON response
        const data = await response.json();

        // Update the prediction result
        if (data.prediction) {
            document.getElementById("predictionResult").value = `Prediction: ${data.prediction}`;
        } else {
            alert(data.error || "Error occurred while predicting.");
        }
    } catch (error) {
        alert("Failed to fetch prediction. Check the server connection.");
    }
}

    </script>
</head>
<body>
    <div class="back">
        <div class="top-banner">
            <div class="container">
                <div class="small-bold-text banner-text">Analyze, Understand, and Improve - Sentiment Analysis Simplified!</div>
            </div>
        </div>

        <header>
            <div class="container header-section flex">
                <div class="header-left">
                    <h1>Product Review</h1>
                    <p>Analyze product reviews effortlessly! Our sentiment analysis tool helps you understand what your customers feel and say, paving the way for smarter improvements.</p>
                </div>
                <div class="header-right">
                    <img src="https://media.istockphoto.com/id/1208411337/photo/consumer-reviews-concepts-with-bubble-people-review-comments-and-smartphone-rating-or.jpg?s=1024x1024&w=is&k=20&c=WhDHBwExnrMcj9dO8c6qZREjib9KMcioQXrIa3Im06A=" alt="image">
                </div>
            </div>
        </header>

        <section>
            <div class="container flex header-section">
                <div class="header-left">
                    <p>Text for Prediction:</p>
                    <textarea id="inputText" placeholder="Enter your text here..." rows="6" cols="50"></textarea>

                    <p>Prediction Result:</p>
                    <textarea id="predictionResult" placeholder="Result will appear here..." rows="3" cols="50" readonly></textarea>

                    <button class="primary-button" onclick="predictText()">Predict</button>
                </div>
            </div>
        </section>
    </div>
</body>
</html>

